<app-drawer [title]="'pages.dipro.reports.title' | translate">
  <div class="flex flex-col w-full h-full">
    <ng-container *ngIf="filters">
      <div class="flex justify-end px-3 pt-2">
        <button *ngIf="filters" class="btn btn-rounded-full btn-accent" (click)="filter.open(cloneFilters(filters))">
          <i class="mdi mdi-filter-outline"></i>
          {{'pages.dipro.reports.filters' | translate}}
        </button>
      </div>
      <app-infinite-reports-grid class="infinite-reports"
        [showButtonLoadData]="hasMoreOnlineData && !isLoadingNewData"
        (deleteItem)="deleteItem($event.id)"
        (openItem)="$event.isOnline ? openOnlineReport($event.id) : openLocalReport($event.id)">
      </app-infinite-reports-grid>
    </ng-container>
    <ng-container *ngIf="!filters">
      <div class="w-full h-full flex justify-center items-center">
        <div class="w-full h-full flex flex-col justify-center items-center px-3">
          <div class="flex flex-col w-full" style="max-width: 550px;">
            <p class="text-1xl font-bold leading-7 text-gray-900 sm:text-1xl sm:truncate">{{'pages.dipro.reports.instructions' | translate}}</p>
            <button class="w-full btn btn-accent btn-stroked my-1" (click)="initialFilters('JSA')">{{'pages.dipro.reports.jsa' | translate}}</button>
            <button class="w-full btn btn-accent btn-stroked my-1" (click)="initialFilters('SERVICE')">{{'pages.dipro.reports.service' | translate}}</button>
            <button class="w-full btn btn-accent btn-stroked my-1" (click)="initialFilters('INGERSOLL')">{{'pages.dipro.reports.ingersollRand' | translate}}</button>
          </div>
        </div>
      </div>
    </ng-container>
    <div class="fixed fab-button-wrapper">
      <button class="btn btn-xl btn-icon btn-primary btn-flat p-5" [routerLink]="'/screening'">
        <i class="mdi mdi-plus"></i>
      </button>
    </div>
  </div>
</app-drawer>
<app-filters-sheet #filter (filtersChanged)="filtersChanged($event)"></app-filters-sheet>

<app-base-dialog #dialogDelete> 
  <div class="flex flex-col justify-center">
    <div class="p-3 flex justify-center">
      <span class="text-black font-bold text-lg">{{'reports.options.delete' | translate}}</span>
    </div>
    <div class="p-3 flex justify-center">
      <span class="text-black">{{'reports.options.message' | translate}}</span>
    </div>
    <div class="flex w-full justify-center">
      <button class="mx-1 btn btn-accent btn-flat" (click)="confirmDeleteReport()">{{'reports.options.aceptar' | translate}}</button>
      <button class="mx-1 btn btn-primary btn-stroked" (click)="dialogDelete.close()">{{'reports.options.cancel' | translate}}</button>
    </div>
  </div>
</app-base-dialog>