<form (submit)="submit()" [formGroup]="formGroup">
  <div class="w-full flex flex-col">
    <div class="my-2 flex flex-col">
      <label class="my-1">{{'forms.common.labels.jobOrder' | translate}}</label>
      <form-text-field formControlName="job_order" [placeholder]="'forms.common.labels.jobOrder' | translate"></form-text-field>
    </div>
    <div class="my-2 flex flex-col">
      <label class="my-1">{{'forms.common.labels.noJsa' | translate}}</label>
      <form-search-select [placeholder]="'forms.common.labels.noJsa' | translate" formControlName="no_jsa">
        <form-option *ngFor="let option of (jsaReports$ | async) || []"
                     [value]="option.folio"
                     [label]="option.folio"></form-option>
      </form-search-select>
    </div>
    <div class="my-2 flex flex-col">
      <label class="my-1">{{'forms.common.labels.bussinesUnit' | translate}}</label>
      <form-search-select [placeholder]="'forms.common.labels.bussinesUnit' | translate" formControlName="unidad">
        <form-option *ngFor="let option of (businessUnits$ | async) || []"
                     [value]="option.name"
                     [label]="option.name"></form-option>
      </form-search-select>
    </div>
    <div class="my-2 flex flex-col">
      <label class="my-1">{{'forms.common.labels.client' | translate}}</label>
      <form-search-select [placeholder]="'forms.common.labels.client' | translate" formControlName="customer">
        <form-option *ngFor="let option of (customers$ | async) || []"
                     [value]="option.name"
                     [label]="option.name"></form-option>
      </form-search-select>
    </div>
    <div class="my-2 flex flex-col">
      <label class="my-1">{{'forms.common.labels.serviceLocation' | translate}}</label>
      <form-search-select [placeholder]="'forms.common.labels.serviceLocation' | translate" formControlName="location">
        <form-option *ngFor="let option of (locations$ | async) || []"
                     [value]="option.name"
                     [label]="option.name"></form-option>
      </form-search-select>
    </div>
    <div class="my-2 flex flex-col">
      <label class="my-1">{{'forms.common.labels.locationGps' | translate}}</label>
      <form-location-text-field formControlName="location_gps" [placeholder]="'forms.common.labels.locationGps' | translate"></form-location-text-field>
    </div>
    <div class="my-2 flex flex-col">
      <label class="my-1">{{'forms.common.labels.contact' | translate}}</label>
      <form-search-select [placeholder]="'forms.common.labels.contact' | translate" formControlName="contact">
        <form-option *ngFor="let option of (contacts$ | async) || []"
                     [value]="option.name"
                     [label]="option.name"></form-option>
      </form-search-select>
    </div>
    <div class="my-2 flex flex-col">
      <label class="my-1">{{'forms.common.labels.phone' | translate}}</label>
      <form-text-field formControlName="phone" [placeholder]="'forms.common.labels.phone' | translate"></form-text-field>
    </div>
    <div class="my-2 flex flex-col">
      <label class="my-1">{{'forms.common.labels.branch' | translate}}</label>
      <form-text-field formControlName="sucursal" [placeholder]="'forms.common.labels.branch' | translate"></form-text-field>
    </div>
    <div class="my-2 w-full flex justify-between">
      <span>{{'forms.common.labels.technician' | translate}}</span>
      <mat-slide-toggle formControlName="accompanied"></mat-slide-toggle>
    </div>
    <div *ngIf="formGroup.controls.accompanied.value === true" class="w-full flex flex-col my-3">
      <span>{{'forms.common.labels.pickTechnician' | translate}}</span>
      <form-multi-select formControlName="teammate_name" [placeholder]="'forms.common.labels.pickTechnician' | translate">
        <form-option *ngFor="let item of (technicians$ | async) || []" [value]="item.name" [label]="item.name"></form-option>
      </form-multi-select>
    </div>
    <div class="my-2 w-full flex flex-col justify-between">
      <span>{{'forms.common.labels.extern' | translate}}</span>
      <form-chip-list [placeholder]="'forms.common.labels.extern' | translate" formControlName="tageditor"></form-chip-list>
    </div>
    <div class="my-2 flex flex-col">
      <label class="my-1">{{'forms.common.labels.jobType' | translate}}</label>
      <form-search-select [placeholder]="'forms.common.labels.jobType' | translate" formControlName="type_job">
        <form-option *ngFor="let option of (jobTypes$ | async) || []"
                     [value]="option.name"
                     [label]="option.name"></form-option>
      </form-search-select>
    </div>
    <div class="my-2 flex flex-col">
      <label class="my-1">{{'forms.service.generic.application' | translate}}</label>
      <form-search-select [placeholder]="'forms.service.generic.application' | translate" formControlName="application">
        <form-option *ngFor="let option of (applications$ | async) || []"
                     [value]="option.name"
                     [label]="option.name"></form-option>
      </form-search-select>
    </div>
    <div class="w-full bg-red-600 rounded px-5 py-2 mt-3">
      <span class="text-white text-lg font-medium">{{'forms.service.generic.equipmentData' | translate}}</span>
    </div>
    <div class="w-full border my-2 p-2 flex flex-col">
      <span>{{'forms.service.generic.equipment' | translate}}</span>
      <form-text-field formControlName="model" [placeholder]="'forms.service.generic.model' | translate"></form-text-field>
      <div class="w-full flex my-2 items-end">
        <div class="w-full pr-1 flex flex-col">
          <span class="text-center font-light">{{'forms.service.generic.measurementNumber' | translate}}</span>
          <form-text-field formControlName="model_num" [placeholder]="'forms.service.generic.measurementNumber' | translate"></form-text-field>
        </div>
        <div class="w-full pl-1">
          <span class="text-center font-light">{{'forms.service.generic.measurementType' | translate}}</span>
          <form-search-select [placeholder]="'forms.service.generic.measurementType' | translate" formControlName="model_type">
            <form-option *ngFor="let option of measurementTypes"
                         [value]="option.id"
                         [label]="option.name | translate"></form-option>
          </form-search-select>
        </div>
      </div>
    </div>
    <div class="my-2 flex flex-col">
      <label class="my-1">{{'forms.service.generic.generatorModel' | translate}}</label>
      <form-search-select [placeholder]="'forms.service.generic.generatorModel' | translate" formControlName="model_gene">
        <form-option *ngFor="let option of (generators$ | async) || []"
                     [value]="option.name"
                     [label]="option.name"></form-option>
      </form-search-select>
    </div>
    <div class="my-2 flex flex-col">
      <label class="my-1">{{'forms.service.generic.generatorSeriesNumber' | translate}}</label>
      <form-text-field formControlName="num_serie_gen" [placeholder]="'forms.service.generic.generatorSeriesNumber' | translate"></form-text-field>
    </div>
    <div class="my-2 flex flex-col">
      <label class="my-1">{{'forms.service.generic.motorModel' | translate}}</label>
      <form-search-select [placeholder]="'forms.service.generic.motorModel' | translate" formControlName="model_motor">
        <form-option *ngFor="let option of (motors$ | async) || []"
                     [value]="option.name"
                     [label]="option.name"></form-option>
      </form-search-select>
    </div>
    <div class="my-2 flex flex-col">
      <label class="my-1">{{'forms.service.generic.motorSeriesNumber' | translate}}</label>
      <form-text-field formControlName="num_serie_motor" [placeholder]="'forms.service.generic.motorSeriesNumber' | translate"></form-text-field>
    </div>
    <div class="my-2 flex flex-col">
      <label class="my-1">{{'forms.service.generic.powerKW' | translate}}</label>
      <form-text-field formControlName="potencia" [placeholder]="'forms.service.generic.powerKW' | translate"></form-text-field>
    </div>
    <div class="my-2 flex flex-col">
      <label class="my-1">{{'forms.service.generic.QTAModel' | translate}}</label>
      <form-search-select [placeholder]="'forms.service.generic.QTAModel' | translate" formControlName="model_qta">
        <form-option *ngFor="let option of (qtas$ | async) || []"
                     [value]="option.name"
                     [label]="option.name"></form-option>
      </form-search-select>
    </div>
    <div class="my-2 flex flex-col">
      <label class="my-1">{{'forms.service.generic.QTASeriesNumber' | translate}}</label>
      <form-text-field formControlName="num_serie_qta" [placeholder]="'forms.service.generic.QTASeriesNumber' | translate"></form-text-field>
    </div>
    <div class="w-full bg-red-600 rounded px-5 py-2 mt-3">
      <span class="text-white text-sm font-medium">{{'forms.service.generic.sectionDescription1' | translate}}</span>
    </div>
    <div class="my-2 flex flex-col">
      <label class="my-1">{{'forms.service.generic.symptoms' | translate}}</label>
      <form-text-area formControlName="symptom"></form-text-area>
    </div>
    <div class="my-2 flex flex-col">
      <label class="my-1">{{'forms.service.generic.problem' | translate}}</label>
      <form-text-area formControlName="problem"></form-text-area>
    </div>
    <div class="my-2 flex flex-col">
      <label class="my-1">{{'forms.service.generic.cause' | translate}}</label>
      <form-text-area formControlName="cause"></form-text-area>
    </div>
    <div class="my-2 flex flex-col">
      <label class="my-1">{{'forms.service.generic.solution' | translate}}</label>
      <form-text-area formControlName="solution"></form-text-area>
    </div>
    <div class="my-2 flex flex-col">
      <label class="my-1">{{'forms.service.generic.pending' | translate}}</label>
      <form-text-area formControlName="pending"></form-text-area>
    </div>
    <div class="my-2 flex flex-col">
      <label class="my-1">{{'forms.service.generic.equipmentAvailable' | translate}}</label>
      <form-button-group class="mt-4" formControlName="available">
        <form-option [value]="1" [label]="'forms.common.options.yes' | translate"></form-option>
        <form-option [value]="2" [label]="'forms.common.options.no' | translate"></form-option>
      </form-button-group>
    </div>
    <span>{{'forms.service.generic.photographicEvidence' | translate}}</span>
    <div class="w-full p-2 my-1 border flex flex-col"
      *appMultiplierFormControl="{
        answers: this.answers,
        formControls: {
          photosz: formGroup.controls.photosz,
          'photo-description': formGroup.controls['photo-description']
          }
        };
      let formGroup">
      <form-image-picker [formControl]="formGroup.photosz"></form-image-picker>
      <form-text-field [formControl]="formGroup['photo-description']" [placeholder]="'forms.service.generic.photographicEvidenceDescription' | translate"></form-text-field>
    </div>
    <div class="w-full p-2 my-1 border flex flex-col"
      *appMultiplierFormControl="{
        answers: this.answers,
        formControls: {
          technician: formGroup.controls.technician_name,
          startHour: formGroup.controls.initial_hour,
          endHour: formGroup.controls.finally_hour,
          category: formGroup.controls.category_technician,
          delay: formGroup.controls.demoras_technician
        }
      };
      let formGroup">
      <div class="w-full flex flex-col">
        <span class="font-light text-center">{{'forms.service.generic.technician' | translate}}</span>
        <form-search-select [placeholder]="'forms.service.generic.technician' | translate" [formControl]="formGroup.technician">
          <form-option *ngFor="let option of (technicians$ | async) || []"
                       [value]="option.name"
                       [label]="option.name"></form-option>
        </form-search-select>
        <div class="w-full flex">
          <div class="w-1/2 flex flex-col justify-center">
            <span class="my-1 font-light text-center">{{'forms.service.generic.startHour' | translate}}</span>
            <form-time-picker class="mx-1" [formControl]="formGroup.startHour"></form-time-picker>
          </div>
          <div class="w-1/2 flex flex-col justify-center">
            <span class="my-1 font-light text-center">{{'forms.service.generic.endHour' | translate}}</span>
            <form-time-picker class="mx-1" [formControl]="formGroup.endHour"></form-time-picker>
          </div>
        </div>
        <div class="w-full flex">
          <div class="w-1/2 flex flex-col justify-center">
            <span class="my-1 font-light text-center">{{'forms.service.generic.category' | translate}}</span>
            <form-search-select class="mx-1" [placeholder]="'forms.service.generic.category' | translate" [formControl]="formGroup.category">
              <form-option *ngFor="let option of (categories$ | async) || []"
                           [value]="option.name"
                           [label]="option.name"></form-option>
            </form-search-select>
          </div>
          <div class="w-1/2 flex flex-col justify-center">
            <span class="my-1 font-light text-center">{{'forms.service.generic.delay' | translate}}</span>
            <form-search-select class="mx-1" [placeholder]="'forms.service.generic.delay' | translate" [formControl]="formGroup.delay">
              <form-option *ngFor="let option of (delays$ | async) || []"
                           [value]="option.name"
                           [label]="option.name"></form-option>
            </form-search-select>
          </div>
        </div>
      </div>
    </div>
    <div class="my-2 flex flex-col">
      <label class="my-1">{{'forms.service.generic.inChargeOfTheClient' | translate}}</label>
      <form-text-field formControlName="responsable" [placeholder]="'forms.service.generic.inChargeOfTheClient' | translate"></form-text-field>
    </div>
    <div class="my-2 flex flex-col">
      <label class="my-1">{{'forms.service.generic.department' | translate}}</label>
      <form-text-field formControlName="department" [placeholder]="'forms.service.generic.department' | translate"></form-text-field>
    </div>
    <div class="my-2 flex flex-col"
      *appMultiplierFormControl="{
        answers: this.answers,
        formControls: {
          email_client: formGroup.controls.email_client
        }
      };
      let formGroup">
      <label class="my-1">{{'forms.service.generic.emailClient' | translate}}</label>
      <form-text-field [formControl]="formGroup.email_client" [placeholder]="'forms.service.generic.emailClient' | translate"></form-text-field>
    </div>
    <div class="my-2 flex flex-col">
      <label class="my-1">{{'forms.service.generic.signatureClient' | translate}}</label>
      <div class="w-full flex justify-center">
        <form-signature-pad [isDrawing]="false" formControlName="signature_client"></form-signature-pad>
      </div>
    </div>
    <div class="my-2 flex flex-col">
      <label class="my-1">{{'forms.service.generic.technician' | translate}}</label>
      <form-search-select [placeholder]="'forms.service.generic.technician' | translate" formControlName="name_technician">
        <form-option *ngFor="let option of (technicians$ | async) || []"
                     [value]="option.id"
                     [label]="option.name"></form-option>
      </form-search-select>
    </div>
    <div class="my-2 flex flex-col">
      <label class="my-1">{{'forms.service.generic.signatureTechnician' | translate}}</label>
      <div class="w-full flex justify-center">
        <form-signature-pad [isDrawing]="false" formControlName="signature_technician"></form-signature-pad>
      </div>
    </div>
    <div *ngIf="!readOnly" class="w-full flex my-5 px-3">
      <button type="button" class="w-full btn btn-flat btn-accent btn-rounded-full" (click)="onSave.next()">{{'forms.common.labels.save' | translate}}</button>
    </div>
    <div *ngIf="!readOnly" class="w-full flex my-5 px-3">
      <button type="submit" class="w-full btn btn-flat btn-accent btn-rounded-full">{{'forms.common.labels.submit' | translate}}</button>
    </div>
  </div>
</form>
